var $,methods;$=window.jQuery||window.Zepto,window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),methods={init:function(a){var b,c,d,e,f;return this.empty(),d={timeout:5e3,onComplete:function(){},onUpdate:function(){},clockwise:!0},c={},c.options=$.extend(d,a),this.data("ct-meta",c),b=document.createElementNS("http://www.w3.org/2000/svg","circle"),b.setAttributeNS(null,"r","25%"),b.setAttributeNS(null,"cx","50%"),b.setAttributeNS(null,"cy","50%"),b.setAttributeNS(null,"stroke-dasharray",50*Math.PI+"%"),f=document.createElementNS("http://www.w3.org/2000/svg","svg"),f.appendChild(b),e=$("<div></div>"),e.attr("id","ct-circle-container"),e.append(f),this.append(e)},start:function(){var a,b,c,d;return b=this.data("ct-meta"),(null==b.timeElapsed||b.timeElapsed===b.options.timeout)&&(c=null,b.timeElapsed=0),null!=b.reqId&&window.cancelAnimationFrame(b.reqId),a=$(this).find("circle"),d=function(e){var f;return null!=c&&(b.timeElapsed+=e-c),c=e,f=b.options.clockwise?-1:1,a.css("stroke-dashoffset",50*f*Math.PI*b.timeElapsed/b.options.timeout+"%"),b.timeElapsed<b.options.timeout?(b.reqId=window.requestAnimationFrame(d),b.options.onUpdate(b.timeElapsed)):(b.timeElapsed=b.options.timeout,b.options.onUpdate(b.timeElapsed),b.options.onComplete())},b.reqId=window.requestAnimationFrame(d),this.data("ct-meta",b)},stop:function(){var a;return a=this.data("ct-meta"),window.cancelAnimationFrame(a.reqId),a.timeElapsed=0,a.options.onUpdate(a.timeElapsed),this.data("ct-meta",a)},pause:function(){var a;return a=this.data("ct-meta"),window.cancelAnimationFrame(a.reqId),this.data("ct-meta",a)},add:function(a){var b;return b=this.data("ct-meta"),a<b.timeElapsed?b.timeElapsed-=a:b.timeElapsed=0,this.data("ct-meta",b)}},$.fn.circletimer=function(a){return methods[a]?methods[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?$.error("Method "+a+" does not exist in circletimer!"):methods.init.apply(this,arguments)};